# KVM Backup System Configuration

# Environment variables for configuration
# Copy this file to .env and modify as needed

# Backup Server Settings
KVM_BACKUP_BACKUP_SERVER=192.168.26.27
KVM_BACKUP_BACKUP_USER=authentik
KVM_BACKUP_BACKUP_PASSWORD=server
KVM_BACKUP_SSH_PORT=22
KVM_BACKUP_SSH_TIMEOUT=30
# KVM_BACKUP_SSH_KEY_FILE=/path/to/private/key

# Directory Settings
KVM_BACKUP_REMOTE_BACKUP_DIR=/home/authentik/backup-kvm
KVM_BACKUP_LOCAL_VM_DIR=/var/lib/libvirt/images
KVM_BACKUP_CONFIG_DIR=/etc/libvirt/qemu
KVM_BACKUP_LOG_DIR=/var/log/kvm-backup

# Backup Settings
KVM_BACKUP_DEFAULT_BACKUP_MODE=incremental
KVM_BACKUP_SNAPSHOT_TIMEOUT=300
KVM_BACKUP_VM_SHUTDOWN_TIMEOUT=60

# Retention Settings
KVM_BACKUP_KEEP_SNAPSHOTS=3
KVM_BACKUP_KEEP_FULL_BACKUPS=7
KVM_BACKUP_KEEP_INCREMENTAL_BACKUPS=30

# Performance Settings
KVM_BACKUP_RSYNC_PARALLEL_JOBS=2
KVM_BACKUP_COMPRESSION_LEVEL=6

# Web API Settings
KVM_BACKUP_API_HOST=0.0.0.0
KVM_BACKUP_API_PORT=8000
KVM_BACKUP_API_SECRET_KEY=your-secret-key-change-this-in-production

# Database Settings
KVM_BACKUP_DATABASE_URL=sqlite:///kvm_backup.db

# Monitoring Settings
KVM_BACKUP_ENABLE_METRICS=true
KVM_BACKUP_METRICS_RETENTION_DAYS=90

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_BACKUP_COUNT=5
